model User {
  id                 String         @id @default(uuid())
  name               String
  email              String         @unique
  password           String?
  role               UserRole       @default(PATIENT)
  needPasswordChange Boolean        @default(true)
  status             UserStatus     @default(ACTIVE)
  createdAt          DateTime       @default(now())
  updatedAt          DateTime       @updatedAt

  admin              Admin?
  doctor             Doctor?
  patient            Patient?


  @@map("users")
}

model Admin {
  id                 String         @id @default(uuid())
  name               String
  email              String         @unique
  profilePhoto       String?
  contactNumber      String         
  role               UserRole       @default(ADMIN)
  isDeleted          Boolean        @default(false)
  createdAt          DateTime       @default(now())
  updatedAt          DateTime       @updatedAt

  user User @relation(fields: [email], references: [email])


  @@map("admins")
}

model Doctor {
  id                  String         @id @default(uuid())
  name                String
  email               String         @unique
  profilePhoto        String?
  contactNumber       String 
  address             String
  gender              Gender
  appointmentFee      Int
  qualification       String
  currentWorkingPlace String
  designation         String
  role                UserRole       @default(DOCTOR)
  experience          Int            @default(0)        
  isDeleted           Boolean        @default(false)
  createdAt           DateTime       @default(now())
  updatedAt           DateTime       @updatedAt
  user User @relation(fields: [email], references: [email])


  @@map("doctors")
}


model Patient {
  id                 String         @id @default(uuid())
  name               String
  email              String         @unique
  profilePhoto       String?
  address            String?
  isDeleted          Boolean        @default(false)
  password           String?
  role               UserRole       @default(PATIENT)
  needPasswordChange Boolean        @default(true)
  status             UserStatus     @default(ACTIVE)
  createdAt          DateTime       @default(now())
  updatedAt          DateTime       @updatedAt
  user User @relation(fields: [email], references: [email])


  @@map("patients")
}

